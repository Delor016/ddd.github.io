const images=["./img/photos/image2.png","./img/photos/image3.png","./img/photos/image4.jpg","./img/photos/image5.jpg","./img/photos/image7.png","./img/photos/image8.png","./img/photos/image9.png"];let currentIndex=0;const imageDisplay=document.getElementById("imageDisplay"),prevButton=document.getElementById("prevButton"),nextButton=document.getElementById("nextButton"),imageCounter=document.getElementById("imageCounter");function updateButtonState(){prevButton.disabled=0===currentIndex,nextButton.disabled=currentIndex===images.length-1,prevButton.style.opacity=prevButton.disabled?"0.5":"1",nextButton.style.opacity=nextButton.disabled?"0.5":"1"}function updateImageCounter(){imageCounter.innerHTML=`<span class="red-bold">${currentIndex+1}</span>/${images.length}`}function changeImage(e){const t=document.createElement("img");t.src=images[currentIndex],t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.opacity="1",t.style.transition="opacity 0.5s ease",imageDisplay.parentNode.appendChild(t),imageDisplay.style.opacity="0",setTimeout(()=>{currentIndex=e,imageDisplay.src=images[currentIndex],imageDisplay.style.opacity="1",t.remove(),updateImageCounter(),updateButtonState()},500)}imageDisplay&&prevButton&&nextButton?(prevButton.addEventListener("click",()=>{currentIndex>0&&changeImage(currentIndex-1)}),nextButton.addEventListener("click",()=>{currentIndex<images.length-1&&changeImage(currentIndex+1)})):console.error("Элементы не найдены. Проверьте IDs в HTML."),updateButtonState(),updateImageCounter();const button1=document.getElementById("button1"),button2=document.getElementById("button2"),button3=document.getElementById("button3");function setActiveButton(e){button1.classList.remove("active"),button2.classList.remove("active"),button3.classList.remove("active"),e.classList.add("active")}button1.addEventListener("click",()=>setActiveButton(button1)),button2.addEventListener("click",()=>setActiveButton(button2)),button3.addEventListener("click",()=>setActiveButton(button3));const buttons=document.querySelectorAll(".catalog-button");buttons.forEach(e=>{const t=e.textContent;e.addEventListener("mouseenter",()=>{e.textContent="Связаться"}),e.addEventListener("mouseleave",()=>{e.textContent=t})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".catalog-button1"),t=document.querySelectorAll(".card");function n(e){t.forEach(t=>{t.style.display=t.dataset.category===e?"block":"none"})}e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),t.classList.add("active"),n(t.dataset.category)})}),n("oil-change")});const reviewContainer=document.querySelector(".reviews-container"),reviewCards=document.querySelectorAll(".review-card");let startX,reviewIndex=0,itemsToShow=3,swipeItemsToShow=2;function updateItemsToShow(){window.innerWidth<961?(itemsToShow=swipeItemsToShow,toggleNavigationButtons(!1)):(itemsToShow=3,toggleNavigationButtons(!0)),reviewIndex=0,updateCards()}function toggleNavigationButtons(e){document.getElementById("prev").style.display=e?"block":"none",document.getElementById("next").style.display=e?"block":"none"}function updateNavigationButtons(){document.getElementById("prev").disabled=0===reviewIndex,document.getElementById("next").disabled=reviewIndex+itemsToShow>=reviewCards.length}function updateCards(){reviewCards.forEach(e=>{e.style.display="none",e.style.opacity="0",e.style.transform="translateX(0)"});for(let e=0;e<itemsToShow;e++){const t=reviewIndex+e;t<reviewCards.length&&(reviewCards[t].style.display="flex",setTimeout(()=>{reviewCards[t].style.opacity="1",reviewCards[t].style.transform="translateX(0)"},50))}updateNavigationButtons()}function nextReview(){if(reviewIndex+itemsToShow<reviewCards.length){Array.from(reviewCards).slice(reviewIndex,reviewIndex+itemsToShow).forEach(e=>{e.style.opacity="0",e.style.transform="translateX(-100%)"}),reviewIndex+=itemsToShow,setTimeout(()=>{updateCards()},300)}}function previousReview(){if(reviewIndex>0){Array.from(reviewCards).slice(reviewIndex,reviewIndex+itemsToShow).forEach(e=>{e.style.opacity="0",e.style.transform="translateX(100%)"}),reviewIndex=Math.max(0,reviewIndex-itemsToShow),setTimeout(()=>{updateCards()},300)}}function init(){var e=new ymaps.Map("map",{center:[50.667855,40.041014],zoom:15}),t=new ymaps.Placemark([50.667855,40.041014],{hintContent:"Мы на картах",balloonContent:"Революции, 22 с. Лосево"});e.geoObjects.add(t)}function copyToClipboard(e,t){navigator.clipboard.writeText(e).then(()=>{const n=document.getElementById(t);n?(n.textContent="Скопировано!",setTimeout(()=>{n.textContent=e},500)):console.error("Элемент не найден")}).catch(e=>{console.error("Ошибка при копировании: ",e)})}reviewContainer.addEventListener("touchstart",e=>{window.innerWidth<961&&(startX=e.touches[0].clientX)}),reviewContainer.addEventListener("touchmove",e=>{if(window.innerWidth<961){const t=e.touches[0].clientX,n=startX-t;n>50&&reviewIndex+swipeItemsToShow<reviewCards.length?(nextReview(),startX=t):n<-50&&reviewIndex>0&&(previousReview(),startX=t)}}),updateItemsToShow(),window.addEventListener("resize",updateItemsToShow),document.getElementById("next").addEventListener("click",()=>{nextReview()}),document.getElementById("prev").addEventListener("click",()=>{previousReview()}),updateItemsToShow(),window.addEventListener("resize",updateItemsToShow),ymaps.ready(init),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".intro"),t=["bg1","bg2","bg3"];let n=0;setInterval(function(){e.classList.remove(t[n]),n=(n+1)%t.length,e.classList.add(t[n])},5e3)}),function(){const e=document.querySelector(".burger"),t=document.querySelector(".header__nav"),n=document.querySelector(".header__nav-close"),o=document.querySelectorAll(".header__link");e.addEventListener("click",()=>{t.classList.add("header__nav_active")}),n.addEventListener("click",()=>{t.classList.remove("header__nav_active")}),o.forEach(e=>{e.addEventListener("click",()=>{t.classList.remove("header__nav_active")})})}(),document.querySelectorAll(".js-scroll").forEach(e=>{e.addEventListener("click",function(){!function(e,t){const n=document.querySelector(".header").clientHeight;let o=document.querySelector(e).getBoundingClientRect().top-n,i=window.pageYOffset,a=null;const r=function(e){null===a&&(a=e);const n=e-a,s=(d=n,c=i,u=o,(d/=t/2)<1?u/2*d*d+c:-u/2*(--d*(d-2)-1)+c);var d,c,u;window.scrollTo(0,s),n<t&&requestAnimationFrame(r)};requestAnimationFrame(r)}(this.getAttribute("href"),1e3)})});